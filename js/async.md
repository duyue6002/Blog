# JS 异步编程

## 回调函数

每个任务有一个或多个回调函数，前一个任务结束后，不执行后一个任务，而是执行回调函数。后一个任务也不会等待前一个任务结束才执行，这样就形成了异步。

回调函数会造成高度耦合，且每个任务只能指定一个回调函数。容易形成回调地狱，不能使用`try-catch`捕错。

## 事件监听

采用数据驱动模式，代码执行不取决于代码顺序，取决于某个事件是否发生。

每个任务可以绑定多个事件，每个事件可以指定多个回调函数。

## 发布/订阅（观察者模式）

存在“信号中心”，某个任务完成会向信号中心发布一个信号，其他任务向信号中心订阅这个信号，从而知道自己何时执行。

通过查看“信号中心”，可以了解存在多少信号，每个信号有多少订阅者，从而监控程序执行。

## Promise

CommonJS 出的规范。回调函数变成链式写法，任务完成后，再添加回调函数，且回调函数立即执行。

## generator

ES6 提出，可以控制函数的执行。generator 是个状态机函数，内部封装多个内部状态，同时也是一个遍历器对象生成函数。可以使用 yield 暂停，next 再启动。

## async/await

基于 Promise 实现，是 generator 函数的语法糖。
